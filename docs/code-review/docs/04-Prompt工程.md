# Prompt工程指南

## 📝 核心Prompt设计

### 主系统Prompt

```
你是一位资深的硬笔书法评估专家。请分析以下硬笔字迹，并从以下四个维度进行评分（各维度都使用0-100分制，最后转换为指定分值）：

1. 笔画质量（权重25%，转换到25分）
   - 评估笔画的流畅性、笔力表现、笔触质感
   - 关注：起笔是否有力、笔画粗细是否均匀、转折处理

2. 结构分析（权重35%，转换到35分）
   - 评估字的整体结构、部件比例、布局均衡
   - 关注：竖笔是否竖直、部件比例是否协调、间距是否均匀

3. 笔画连接（权重15%，转换到15分）
   - 评估笔与笔之间的呼应关系、转折自然度
   - 关注：笔画是否有呼应、转折是否生硬、笔顺是否合理

4. 整体评价（权重25%，转换到25分）
   - 评估字的整体视觉效果、风格统一度、审美表现
   - 关注：整体和谐度、书法气韵、审美价值

请以JSON格式返回评分结果和建议。
```

## 🎯 Prompt最佳实践

### DO ✅

1. **明确的评分维度**
   ```
   ✅ "从笔画质量维度评估，考虑以下因素：..."
   ```

2. **具体的评估标准**
   ```
   ✅ "优秀（90-100）：笔画有力、线条流畅、笔触清晰"
   ```

3. **结构化输出格式**
   ```
   ✅ JSON格式，字段清晰，易于解析
   ```

4. **包含具体例子**
   ```
   ✅ "例如：竖笔应该是竖直的，不应该倾斜..."
   ```

5. **要求详细解释**
   ```
   ✅ "请解释你的评分依据..."
   ```

### DON'T ❌

1. **不要模糊的评估**
   ```
   ❌ "这个字写得不错"
   ```

2. **不要超出范围**
   ```
   ❌ "评估毛笔技法" (我们只评硬笔)
   ```

3. **不要混淆维度**
   ```
   ❌ 在笔画质量中讨论整体结构
   ```

4. **不要忽视权重**
   ```
   ❌ 各维度评分权重不符合设计
   ```

5. **不要跳过建议**
   ```
   ❌ 只给分数，不提供改进建议
   ```

## 💬 常用Prompt变体

### 详细评估（标准）

```
我要你评估这个硬笔字迹图片。请从以下四个维度给出详细评分：

【笔画质量】(0-25分)
- 笔画是否有力？
- 线条是否流畅？
- 笔触是否清晰？
- 起笔收笔是否果断？

【结构分析】(0-35分)
- 部件比例是否协调？
- 整体是否平衡？
- 间距是否均匀？
- 竖笔是否竖直？

【笔画连接】(0-15分)
- 笔画之间是否有呼应？
- 转折处理是否自然？
- 笔顺是否合理？

【整体评价】(0-25分)
- 风格是否统一？
- 审美表现如何？
- 整体和谐度？

请详细说明每个维度的评分理由，并给出3条具体的改进建议。
```

### 快速评估（简化）

```
快速评估这个硬笔字迹：
- 笔画质量: _/25
- 结构分析: _/35
- 笔画连接: _/15
- 整体评价: _/25
总分: _/100
建议: ...
```

### 对比评估

```
请比较这两个字迹的写法，分别评估其在笔画质量、结构、连接、整体方面的差异，
指出哪一个更优及原因。
```

## 🔍 Prompt调试技巧

### 问题1: 评分不合理

**症状**: 分数与实际字迹质量不符

**解决方案**:
1. 添加更多具体标准
2. 提供评分范围示例
3. 明确各维度权重

### 问题2: 建议不够具体

**症状**: 建议太笼统，无法指导练习

**解决方案**:
1. 要求"给出3-5条具体的改进方法"
2. 包含"如何练习"的步骤
3. 提及"常见错误"

### 问题3: 输出格式不稳定

**症状**: 有时是JSON，有时是文本

**解决方案**:
1. 在Prompt中明确："请以以下JSON格式返回"
2. 提供JSON Schema示例
3. 要求验证格式

## 📋 评分JSON格式规范

### 输出格式示例

```json
{
  "brushQuality": {
    "score": 22,
    "explanation": "笔画质量的具体评价"
  },
  "structureAnalysis": {
    "score": 28,
    "explanation": "结构分析的具体评价"
  },
  "strokeConnection": {
    "score": 12,
    "explanation": "笔画连接的具体评价"
  },
  "overallEvaluation": {
    "score": 20,
    "explanation": "整体评价的具体说明"
  },
  "totalScore": 82,
  "commentary": {
    "overall": "总体评价",
    "suggestions": ["建议1", "建议2", "建议3"]
  }
}
```

---

**最后更新**: 2025-12-04
